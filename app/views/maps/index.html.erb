<h1>Tracy is the best EVREER!!</h1>   

<table>
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>

  <tbody>
    <% @maps.each do |map| %>
      <tr>
        <td><%= link_to 'Show', map %></td>
        <td><%= link_to 'Edit', edit_map_path(map) %></td>
        <td><%= link_to 'Destroy', map, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Map', new_map_path %>
  
  
  <h2>Fun with Data Viz: Creating shapes.</h2>
  <p>This is a paragraph with some text.</p>

<div id="barchart"></div>
<script src="http://d3js.org/d3.v3.min.js"></script>
<script>

var dataset = [10, 12, 15, 20, 22, 24, 33, 80, 40, 50, 70, 80, 150];
var dataset2 = [1, 3, 5, 6, 7, 14, 10, 20, 25, 35, 40, 76, 300];

var width = 500;
var height = 350;

var xScale = d3.scale.linear()
  .domain([0, d3.max(dataset, function(d){ return d; })])
  .range([0, width]);

var yaxisScale = d3.scale.ordinal()
  .domain([0, function(d, i) { return i }])
  .range([height - 130, 0]);  


var color = d3.scale.category20b();

var canvas = d3.select("#barchart")
  .append("svg")
  .attr("width", width)
  .attr("height", height);

// draw bars horizontally

function render(sub) {

  var bars = canvas.selectAll("rect")
    .data(sub) 
    .enter() 
        .append("rect")
        .attr("class", "bars") 
        .transition().delay(function (d,i) {
            return i * 200;
        })
        .duration( function(d,i){ return d * 100; })
        .attr("width", function(d) { return xScale(d); }) 
        .attr("height", 10)
        .attr("fill", function(d) { return color(d) })
        .attr("x", 50)
        .attr("y", function(d, i) { return i * 15 })
        .attr("stroke", function(d) { return color(d*25) } 
        ); 


// set up axes scale
var xAxis = d3.svg.axis().scale(xScale).orient("bottom");
var yAxis = d3.svg.axis().scale(yaxisScale).orient("left");

// add x-axis
canvas.append("g")
  .attr("class", "axis")
  .attr("transform", "translate(35,210)")
  .call(xAxis);

// Add the y-axis.
canvas.append("g")
  .attr("class", "axis")
  .attr("transform", "translate(35,0)")
  .call(yAxis);

};

  render(dataset);

</script>

<style>

#barchart {
  background-color: aliceblue;
  width: 600px;
  height: 350px;
  border: 1px black solid;
} 

#axis {
  margin-top: 50px;
  border-color: blue;
}

svg {
  margin-top: 50px;

}
</style>

